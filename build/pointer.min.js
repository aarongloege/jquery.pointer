!function(){var a=function b(c,d,e){function f(h,i){if(!d[h]){if(!c[h]){var j="function"==typeof a&&a;if(!i&&j)return j(h,!0);if(g)return g(h,!0);throw new Error("Cannot find module '"+h+"'")}var k=d[h]={exports:{}};c[h][0].call(k.exports,function(a){var b=c[h][1][a];return f(b?b:a)},k,k.exports,b,c,d,e)}return d[h].exports}for(var g="function"==typeof a&&a,h=0;h<e.length;h++)f(e[h]);return f}({1:[function(a){var b=a("./Pointer"),c=a("./Util"),d=a("./event/Tracker");if(window.navigator.pointerEnabled!==!0){d.init();var e=function(){c.off("DOMContentLoaded",e,document).off("load",e,window),b()};"complete"===document.readyState?setTimeout(b):c.on("DOMContentLoaded",e,document).on("load",e,window)}},{"./Pointer":3,"./Util":4,"./event/Tracker":10}],2:[function(a,b){var c=a("./event/Events"),d=a("adapter/event"),e=a("./event/Tracker"),f=a("./Util"),g=c.POINTER,h={screenX:0,screenY:0,pageX:0,pageY:0,offsetX:0,offsetY:0,clientX:0,clientY:0,view:null,detail:null,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null,width:0,height:0,tiltX:0,tiltY:0,pressure:.5},i=function(a,b,c){var d=b,g="mouse",i={timeStamp:b.timeStamp||f.now()};0===b.type.indexOf("touch")&&(d=b.changedTouches[c||0],g="touch");var k=f.getId(d);i.isPrimary=1>=k;var l;for(l in h)h.hasOwnProperty(l)&&(i[l]=d[l]||h[l]);return!i.pageX&&i.clientX&&(i.pageX=i.clientX+j(!0),i.pageY=i.clientY+j()),i.x=i.pageX,i.y=i.pageY,0==k&&(i.pressure=e.isMouseDown?.5:0),i.pointerId=k,i.pointerType=g,i},j=function(a){var b=document,c=b.body,d=a?"Left":"Top",e="scroll"+d,f="client"+d;return(b[e]||c[e]||0)-(b[f]||c[f]||0)},k=function(a,b,c,g,h){var i;g||(g=b.relatedTarget);do{if(g&&f.contains(c,g))break;i=l(a,b,h),i&&("touch"===i.pointerType&&e.register(i,a,c),d.trigger(i,c))}while(c=c.parentNode)},l=function(a,b,c){var e=i(a,b,c);return d.create(a,b,e,a!==g[0]&&a!==g[6])},m=function(a,b,h,i,j){var m=h||a.type;if(a&&c.MAP.hasOwnProperty(m)){var n=c.MAP[m],o=i||0,p=l(n,a,o);b=f.getTarget(a,b),p&&("touch"===p.pointerType&&e.register(p,m,b),n===g[1]&&k(g[0],a,b,j,o),d.trigger(p,b),(p.type===g[4]||p.type===g[7])&&e.releasePointer(p.pointerId),n===g[5]&&k(g[6],a,b,j,o))}};b.exports={create:l,trigger:m}},{"./Util":4,"./event/Events":9,"./event/Tracker":10,"adapter/event":"mbL6jR"}],3:[function(a,b){var c=a("./Util"),d=a("./handlers/Mouse"),e=a("./handlers/Touch"),f=window.navigator;b.exports=function(){f.pointerEnabled=!0,f.maxTouchPoints=10,c.on(e.events,e.onEvent).on(d.events,d.onEvent)}},{"./Util":4,"./handlers/Mouse":11,"./handlers/Touch":12}],4:[function(a,b){var c=function(a,b,c,d){c||(c=document.body);for(var e=0,f=a instanceof Array?a:a.split(" "),g=f.length,h=(d?"add":"remove")+"EventListener";g>e;e++)c[h]?c[h](f[e],b,!1):c[(d?"attach":"detach")+"Event"]("on"+f[e],b)};b.exports={on:function(a,b,d){return c(a,b,d,!0),this},off:function(a,b,d){return c(a,b,d),this},indexOf:function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},contains:function(a,b){if(a===b)return!0;if(a.contains)return a.contains(b);do if(b===a)return!0;while(b=b.parentNode);return!1},getTarget:function(a,b){return b=b||a.target||a.srcElement||document,3===b.nodeType&&(b=b.parentNode),b},now:Date.now||function(){return+new Date},getId:function(a){var b=0;return"identifier"in a&&(b=a.identifier+1),b}}},{}],"adapter/event":[function(a,b){b.exports=a("mbL6jR")},{}],mbL6jR:[function(a,b){var c=function(a,b,c){var d=b[a];b[a]=function(){c[a](),d.call(this)}};b.exports={create:function(a,b,d,e){var f=document.createEvent("Event");f.initEvent(a,e!==!1,d.cancelable!==!1);var g;for(g in d)d.hasOwnProperty(g)&&(f[g]=d[g]);return b&&(c("preventDefault",f,b),c("stopPropagation",f,b),c("stopImmediatePropagation",f,b)),f},trigger:function(a,b){b.dispatchEvent(a)}}},{}],"adapter/toucharea":[function(a,b){b.exports=a("C84uZi")},{}],C84uZi:[function(a,b){var c="touch-action";b.exports={detect:function(a){for(;a.hasAttribute&&!a.hasAttribute(c);)a=a.parentNode;return a.getAttribute&&"none"===a.getAttribute(c)||!1}}},{}],9:[function(a,b){var c=function(a,b){return[a+"enter",a+"over",a+(b?"start":"down"),a+"move",a+(b?"end":"up"),a+"out",a+"leave",a+"cancel"]},d=c("pointer"),e=c("mouse"),f=c("touch",!0),g={};b.exports={POINTER:d,MOUSE:e,TOUCH:f,MAP:g};for(var h=0,i=d.length;i>h;h++)f[h]&&(g[f[h]]=d[h]),e[h]&&(g[e[h]]=d[h])},{}],10:[function(a,b){var c=a("adapter/event"),d=a("../Util"),e={mouseover:"touchover",mousedown:"touchstart",mousemove:"touchend",mouseup:"touchend",mouseout:"touchstart"},f={touchover:{},touchstart:{},touchend:{},touchout:{}},g={},h=3e3,i={cancelable:!1};b.exports={hasTouched:!1,isMouseDown:!1,init:function(){var a,b=window.Element;a=b?b.prototype:window._IEEL={},a.setPointerCapture=this.capturePointer,a.releasePointerCapture=this.releasePointer},capturePointer:function(a){g[a]=this;var b=c.create("gotpointercapture",null,i);c.trigger(b,this)},releasePointer:function(a){var b=g[a];if(g[a]=null,b){var d=c.create("lostpointercapture",null,i);c.trigger(d,b)}},register:function(a,b,c){var e=b||a.type;return f.hasOwnProperty(e)&&(f[e][a.pointerId]={timeStamp:d.now(),x:a.clientX,y:a.clientY,target:c||a.target},this.hasTouched=!0),this},getTarget:function(a){return g[a.pointerId||a]},isSimulated:function(a){if(!e.hasOwnProperty(a.type))return!1;var b=e[a.type],c=f[b];if(!c)return!1;var g,i,j=d.now(),k=d.getTarget(a);"mouseout"===a.type&&(k=a.relatedTarget);for(g in c)if(c.hasOwnProperty(g)&&c[g])if(i=c[g],Math.abs(j-i.timeStamp)>h)f[b][g]=null;else if(i.target===k&&i.x===a.clientX&&i.y===a.clientY)return!0;return!1}}},{"../Util":4,"adapter/event":"mbL6jR"}],11:[function(a,b){var c=a("../Util"),d=a("../event/Events").MOUSE,e=a("../event/Tracker"),f=a("../Util").on,g=a("../Controller").trigger,h=d[1],i=d[2],j=d[3],k=d[4],l=d[5],m=function(a){e.isMouseActive=!1,a.target===document.documentElement&&e.releasePointer(c.getId(a))};b.exports={events:[h,i,j,k,l],onEvent:function(a){if(e.hasTouched&&e.isSimulated(a))try{a._isSimulated=!0}catch(b){}else a.type===i?e.isMouseDown=!0:a.type===k&&(e.isMouseDown=!1),g(a,e.getTarget(c.getId(a)))}},f("mouseup",m,window),f("contextmenu",m,window)},{"../Controller":2,"../Util":4,"../event/Events":9,"../event/Tracker":10}],12:[function(a,b){var c=a("../Util"),d=a("../event/Events").TOUCH,e=a("adapter/toucharea"),f=a("../event/Tracker"),g=a("../Controller").trigger,h=d[1],i=d[2],j=d[3],k=d[4],l=d[5],m=d[7],n={},o={},p=function(a,b,c){n[a.identifier]=null,g(b,b.target,m,c),g(b,b.target,l,c)},q=function(a,b,d){var i=a.identifier,k=f.getTarget(c.getId(a))||document.elementFromPoint(a.clientX,a.clientY),m=n[i];n[i]=k,k!==m&&(m&&g(b,m,l,d,k),k&&g(b,k,h,d,m)),g(b,k,j,d),k&&e.detect(k)&&b.preventDefault()},r=function(a,b,d){var e=a.identifier,j=f.getTarget(c.getId(a))||b.target,m=b.type;m===i&&(n[e]=j,g(b,j,h,d));var o=n[e]||j;g(b,o,m,d),m===k&&(n[e]=null,g(b,o,l,d))};b.exports={events:[i,j,k,m],onEvent:function(a){var b,c,d,e=-1,f=a.type,g=p;for(f===i||f===k?g=r:f===j&&(g=q);c=a.changedTouches[++e];){if(b=c.identifier,f===j){if(d=c.pageX+"|"+c.pageY,o[b]===d)continue;o[b]=d}g(c,a,e)}}}},{"../Controller":2,"../Util":4,"../event/Events":9,"../event/Tracker":10,"adapter/toucharea":"C84uZi"}]},{},[1])}();